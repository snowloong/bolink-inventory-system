# @bolink-inventory-system/basic-data - 基础数据管理模块

## 模块概述
基础数据管理模块是整个进销存系统的数据基础，负责维护所有业务实体的主数据信息，为其他业务模块提供数据支撑。

## 核心功能

### 1. 电池产品信息管理

#### 1.1 产品基础信息
- **产品编码**：系统自动生成的唯一标识
- **产品名称**：标准化的产品名称
- **产品型号**：制造商型号
- **产品系列**：产品线分类

#### 1.2 技术规格参数
- **电池类型**：锂离子、磷酸铁锂、三元锂等
- **容量规格**：额定容量(Ah)、可用容量
- **电压参数**：标称电压、工作电压范围
- **尺寸重量**：长×宽×高、重量
- **温度范围**：工作温度、存储温度

#### 1.3 性能参数
- **循环寿命**：充放电循环次数
- **能量密度**：Wh/kg、Wh/L
- **充电特性**：最大充电电流、充电时间
- **放电特性**：最大放电电流、放电平台

#### 1.4 认证信息
- **质量认证**：CE、UL、UN38.3等
- **安全等级**：IP防护等级
- **环保认证**：RoHS、REACH等
- **行业标准**：GB、IEC标准符合性

### 2. 供应商管理

#### 2.1 供应商基本信息
- **供应商编码**：系统生成的唯一标识
- **供应商名称**：公司全称、简称
- **供应商类型**：制造商、贸易商、代理商
- **注册信息**：注册地址、法人代表、成立时间

#### 2.2 联系信息
- **联系地址**：详细地址、邮政编码
- **联系人信息**：主要联系人、职位、电话、邮箱
- **业务联系人**：销售、技术支持、售后服务联系人
- **财务联系人**：财务结算、发票相关联系人

#### 2.3 资质认证
- **营业执照**：统一社会信用代码、经营范围
- **行业资质**：危险品经营许可证、ISO认证
- **质量体系**：ISO9001、TS16949等认证
- **环保资质**：环保许可证、废料处理资质

#### 2.4 合作评估
- **合作等级**：战略、重要、一般、观察
- **信用评价**：AAA、AA、A、B、C等级
- **供应能力**：月供应能力、主要产品线
- **合作历史**：合作开始时间、合作项目记录
- **评估记录**：定期评估记录和改进跟踪

### 3. 客户管理

#### 3.1 客户基本信息
- **客户编码**：系统生成的唯一标识
- **客户名称**：公司全称、简称、英文名
- **客户类型**：制造商、集成商、经销商、终端用户
- **行业分类**：新能源汽车、储能、3C电子、工业设备

#### 3.2 联系信息
- **注册地址**：公司注册地址
- **办公地址**：主要办公地址、分支机构
- **联系人信息**：采购负责人、技术负责人、财务联系人
- **沟通记录**：历史沟通记录、重要事件记录

#### 3.3 信用管理
- **信用等级**：AAA、AA、A、B、C等级
- **授信额度**：最大授信金额、已用额度
- **付款条件**：现金、月结30天、月结60天等
- **风险评估**：财务状况、行业地位、合作风险

#### 3.4 需求特征
- **主要需求产品**：常采购的电池类型和规格
- **采购周期**：月度、季度、年度采购计划
- **技术要求**：特殊技术指标、定制化需求
- **服务要求**：交期、包装、运输等特殊要求

### 4. 仓库管理

#### 4.1 仓库基本信息
- **仓库编码**：系统生成的唯一标识
- **仓库名称**：仓库名称、简称
- **仓库类型**：主仓、分仓、中转仓、客户仓
- **仓库地址**：详细地址、GPS坐标

#### 4.2 仓库规格
- **建筑面积**：总面积、可用面积、办公面积
- **存储容量**：理论容量、实际可用容量
- **层高信息**：净高、是否有夹层
- **承重能力**：地面承重、货架承重

#### 4.3 环境设施
- **温湿度控制**：温度范围、湿度控制、通风系统
- **安全设施**：消防系统、监控系统、门禁系统
- **电力设施**：供电容量、备用电源、照明系统
- **搬运设备**：叉车、传送带、升降机等

#### 4.4 库区规划
- **功能分区**：收货区、存储区、拣货区、发货区
- **货架类型**：重型货架、中型货架、流利货架
- **库位编码**：区域-通道-层-位的编码规则
- **存储策略**：按产品类型、按批次、按客户分类

## 数据模型设计

### 产品信息表 (products)
```sql
- id: 主键
- product_code: 产品编码
- product_name: 产品名称
- model: 型号
- series: 系列
- battery_type: 电池类型
- capacity: 容量
- voltage: 电压
- dimensions: 尺寸
- weight: 重量
- cycle_life: 循环寿命
- certifications: 认证信息(JSON)
- created_at: 创建时间
- updated_at: 更新时间
```

### 供应商表 (suppliers)
```sql
- id: 主键
- supplier_code: 供应商编码
- supplier_name: 供应商名称
- supplier_type: 供应商类型
- contact_info: 联系信息(JSON)
- qualifications: 资质信息(JSON)
- cooperation_level: 合作等级
- credit_rating: 信用评级
- status: 状态
- created_at: 创建时间
- updated_at: 更新时间
```

### 客户表 (customers)
```sql
- id: 主键
- customer_code: 客户编码
- customer_name: 客户名称
- customer_type: 客户类型
- industry: 行业分类
- contact_info: 联系信息(JSON)
- credit_info: 信用信息(JSON)
- requirements: 需求特征(JSON)
- status: 状态
- created_at: 创建时间
- updated_at: 更新时间
```

### 仓库表 (warehouses)
```sql
- id: 主键
- warehouse_code: 仓库编码
- warehouse_name: 仓库名称
- warehouse_type: 仓库类型
- address: 地址
- specifications: 仓库规格(JSON)
- facilities: 环境设施(JSON)
- zones: 库区规划(JSON)
- status: 状态
- created_at: 创建时间
- updated_at: 更新时间
```

## 接口设计

### 产品管理接口
**统一接口**：`POST /api/basic/products`

**参数说明**：`action` - 操作类型，详见 ProductAction 类型定义

#### Action字典说明
```typescript
export type ProductAction = 
  // 基础CRUD操作
  | 'create'    // 创建产品
  | 'list'      // 查询产品列表
  | 'detail'    // 获取产品详情
  | 'update'    // 更新产品
  | 'delete'    // 删除产品
  
  // 批量操作
  | 'batch-import'  // 批量导入
  | 'batch-export'  // 批量导出
  | 'batch-delete'  // 批量删除
  
  // 验证操作
  | 'validate-code' // 产品编码验证
  | 'validate-model' // 型号重复验证
  
  // 状态管理
  | 'enable'    // 启用产品
  | 'disable'   // 停用产品
  | 'discontinue' // 淘汰产品
  
  // 技术参数管理
  | 'specs'     // 技术参数查询
  | 'update-specs' // 更新技术参数
  
  // 认证管理
  | 'certifications' // 认证信息管理
  | 'add-certification' // 添加认证
  | 'remove-certification' // 移除认证
  
  // 统计报表
  | 'statistics' // 产品统计
  | 'report'     // 生成报表;
```

#### 不同action的请求示例
```json
// 创建产品
{
  "action": "create",
  "data": {
    "product_name": "18650锂电池",
    "model": "18650-2500mAh",
    "series": "标准系列",
    "battery_type": "锂离子",
    "capacity": 2500,
    "voltage": 3.7
  }
}

// 查询产品列表
{
  "action": "list",
  "params": {
    "page": 1,
    "size": 20,
    "battery_type": "锂离子",
    "status": "active"
  }
}

// 批量导入产品
{
  "action": "batch-import",
  "data": {
    "file": "base64编码的Excel文件",
    "template": "standard"
  }
}
```

### 供应商管理接口
**统一接口**：`POST /api/basic/suppliers`

**参数说明**：`action` - 操作类型，详见 SupplierAction 类型定义

#### Action字典说明
```typescript
export type SupplierAction = 
  // 基础CRUD操作
  | 'create'    // 创建供应商
  | 'list'      // 查询供应商列表
  | 'detail'    // 获取供应商详情
  | 'update'    // 更新供应商
  | 'delete'    // 删除供应商
  
  // 批量操作
  | 'batch-import'  // 批量导入
  | 'batch-export'  // 批量导出
  | 'batch-delete'  // 批量删除
  
  // 验证操作
  | 'validate-code' // 供应商编码验证
  | 'validate-name' // 供应商名称验证
  
  // 状态管理
  | 'enable'    // 启用供应商
  | 'disable'   // 停用供应商
  | 'blacklist' // 加入黑名单
  
  // 资质管理
  | 'qualifications' // 资质信息管理
  | 'add-qualification' // 添加资质
  | 'update-qualification' // 更新资质
  | 'expire-qualification' // 资质过期处理
  
  // 评估管理
  | 'evaluations' // 评估记录查询
  | 'add-evaluation' // 添加评估
  | 'update-rating' // 更新评级
  
  // 合作管理
  | 'cooperation-history' // 合作历史
  | 'update-level' // 更新合作等级
  
  // 统计报表
  | 'statistics' // 供应商统计
  | 'report'     // 生成报表;
```

#### 不同action的请求示例
```json
// 创建供应商
{
  "action": "create",
  "data": {
    "supplier_name": "宁德时代新能源科技股份有限公司",
    "supplier_type": "制造商",
    "contact_info": {
      "address": "福建省宁德市",
      "contact_person": "张三",
      "phone": "0593-12345678"
    }
  }
}

// 查询供应商列表
{
  "action": "list",
  "params": {
    "page": 1,
    "size": 20,
    "supplier_type": "制造商",
    "cooperation_level": "战略"
  }
}

// 添加资质认证
{
  "action": "add-qualification",
  "data": {
    "supplier_id": 123,
    "qualification_type": "ISO9001",
    "certificate_no": "ISO9001-2024-001",
    "issue_date": "2024-01-01",
    "expire_date": "2027-01-01"
  }
}
```

### 客户管理接口
**统一接口**：`POST /api/basic/customers`

**参数说明**：`action` - 操作类型，详见 CustomerAction 类型定义

#### Action字典说明
```typescript
export type CustomerAction = 
  // 基础CRUD操作
  | 'create'    // 创建客户
  | 'list'      // 查询客户列表
  | 'detail'    // 获取客户详情
  | 'update'    // 更新客户
  | 'delete'    // 删除客户
  
  // 批量操作
  | 'batch-import'  // 批量导入
  | 'batch-export'  // 批量导出
  | 'batch-delete'  // 批量删除
  
  // 验证操作
  | 'validate-code' // 客户编码验证
  | 'validate-name' // 客户名称验证
  
  // 状态管理
  | 'enable'    // 启用客户
  | 'disable'   // 停用客户
  | 'blacklist' // 加入黑名单
  
  // 信用管理
  | 'credit-management' // 信用管理
  | 'update-credit' // 更新信用等级
  | 'update-limit' // 更新授信额度
  | 'payment-terms' // 付款条件管理
  
  // 需求管理
  | 'requirements' // 需求特征管理
  | 'add-requirement' // 添加需求
  | 'update-requirement' // 更新需求
  
  // 联系记录
  | 'contact-records' // 联系记录
  | 'add-contact' // 添加联系记录
  
  // 统计报表
  | 'statistics' // 客户统计
  | 'report'     // 生成报表;
```

#### 不同action的请求示例
```json
// 创建客户
{
  "action": "create",
  "data": {
    "customer_name": "比亚迪股份有限公司",
    "customer_type": "制造商",
    "industry": "新能源汽车",
    "contact_info": {
      "address": "广东省深圳市",
      "contact_person": "李四",
      "phone": "0755-12345678"
    }
  }
}

// 更新信用等级
{
  "action": "update-credit",
  "data": {
    "customer_id": 456,
    "credit_rating": "AAA",
    "credit_limit": 1000000,
    "payment_terms": "月结30天"
  }
}
```

### 仓库管理接口
**统一接口**：`POST /api/basic/warehouses`

**参数说明**：`action` - 操作类型，详见 WarehouseAction 类型定义

#### Action字典说明
```typescript
export type WarehouseAction = 
  // 基础CRUD操作
  | 'create'    // 创建仓库
  | 'list'      // 查询仓库列表
  | 'detail'    // 获取仓库详情
  | 'update'    // 更新仓库
  | 'delete'    // 删除仓库
  
  // 批量操作
  | 'batch-import'  // 批量导入
  | 'batch-export'  // 批量导出
  | 'batch-delete'  // 批量删除
  
  // 验证操作
  | 'validate-code' // 仓库编码验证
  | 'validate-name' // 仓库名称验证
  
  // 状态管理
  | 'enable'    // 启用仓库
  | 'disable'   // 停用仓库
  | 'maintenance' // 维护模式
  
  // 容量管理
  | 'capacity-management' // 容量管理
  | 'update-capacity' // 更新容量
  | 'capacity-alert' // 容量预警
  
  // 安全配置
  | 'safety-config' // 安全配置管理
  | 'update-safety' // 更新安全配置
  | 'safety-check' // 安全检查
  
  // 库区管理
  | 'zones'     // 库区管理
  | 'add-zone'  // 添加库区
  | 'update-zone' // 更新库区
  
  // 统计报表
  | 'statistics' // 仓库统计
  | 'report'     // 生成报表;
```

#### 不同action的请求示例
```json
// 创建仓库
{
  "action": "create",
  "data": {
    "warehouse_name": "深圳主仓库",
    "warehouse_type": "主仓",
    "address": "广东省深圳市宝安区",
    "specifications": {
      "area": 5000,
      "capacity": 10000
    }
  }
}

// 容量管理
{
  "action": "capacity-management",
  "data": {
    "warehouse_id": 789,
    "current_usage": 7500,
    "alert_threshold": 8000
  }
}
```

## 业务规则

### 产品管理规则
1. 产品编码自动生成，格式：BT-YYYYMMDD-XXX
2. 同一型号的产品不能重复录入
3. 产品状态包括：正常、停产、淘汰
4. 技术参数变更需要审批流程

### 供应商管理规则
1. 供应商编码自动生成，格式：SUP-YYYYMMDD-XXX
2. 新供应商需要经过资质审核
3. 合作等级影响采购政策和付款条件
4. 供应商信息变更需要通知相关业务部门

### 客户管理规则
1. 客户编码自动生成，格式：CUS-YYYYMMDD-XXX
2. 信用等级影响授信额度和付款条件
3. 客户信息变更需要销售部门确认
4. 重要客户需要定期维护和回访

### 仓库管理规则
1. 仓库编码自动生成，格式：WH-YYYYMMDD-XXX
2. 新仓库启用需要安全检查和环境评估
3. 仓库容量不能超过设计上限
4. 仓库变更影响库存分配和业务流程

## 权限控制

### 产品管理权限
- **查看权限**：所有用户
- **创建权限**：产品经理、系统管理员
- **修改权限**：产品经理、系统管理员
- **删除权限**：系统管理员

### 供应商管理权限
- **查看权限**：采购、销售、管理层
- **创建权限**：采购经理、系统管理员
- **修改权限**：采购经理、系统管理员
- **删除权限**：系统管理员

### 客户管理权限
- **查看权限**：销售、管理层
- **创建权限**：销售经理、系统管理员
- **修改权限**：销售经理、系统管理员
- **删除权限**：系统管理员

### 仓库管理权限
- **查看权限**：仓库、采购、销售
- **创建权限**：仓库经理、系统管理员
- **修改权限**：仓库经理、系统管理员
- **删除权限**：系统管理员
